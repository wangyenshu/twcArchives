/***
|''Requires''|codemirror.js|
|''License''|[[codemirror.js]]|
***/

//{{{
CodeMirror.defineMode("javascript",function(e,t){function r(e,t,r){return t.tokenize=r,r(e,t)}function n(e,t){for(var r,n=!1;(r=e.next())!=null;){if(r==t&&!n)return!1;n=!n&&"\\"==r}return n}function a(e,t,r){return U=e,_=r,t}function i(e,t){var i=e.next();if('"'==i||"'"==i)return r(e,t,o(i));if(/[\[\]{}\(\),;\:\.]/.test(i))return a(i);if("0"==i&&e.eat(/x/i))return e.eatWhile(/[\da-f]/i),a("number","number");if(/\d/.test(i)||"-"==i&&e.eat(/\d/))return e.match(/^\d*(?:\.\d*)?(?:[eE][+\-]?\d+)?/),a("number","number");if("/"==i)return e.eat("*")?r(e,t,c):e.eat("/")?(e.skipToEnd(),a("comment","comment")):t.lastType=="operator"||t.lastType=="keyword c"||/^[\[{}\(,;:]$/.test(t.lastType)?(n(e,"/"),e.eatWhile(/[gimy]/),a("regexp","string-2")):(e.eatWhile(G),a("operator",null,e.current()));if("#"==i)return e.skipToEnd(),a("error","error");if(G.test(i))return e.eatWhile(G),a("operator",null,e.current());e.eatWhile(/[\w\$_]/);var l=e.current(),u=F.propertyIsEnumerable(l)&&F[l];return u&&t.lastType!="."?a(u.type,u.style,l):a("variable","variable",l)}function o(e){return function(t,r){return n(t,e)||(r.tokenize=i),a("string","string")}}function c(e,t){for(var r,n=!1;r=e.next();){if("/"==r&&n){t.tokenize=i;break}n="*"==r}return a("comment","comment")}function l(e,t,r,n,a,i){this.indented=e,this.column=t,this.type=r,this.prev=a,this.info=i,null!=n&&(this.align=n)}function u(e,t){for(var r=e.localVars;r;r=r.next)if(r.name==t)return!0}function s(e,t,r,n,a){var i=e.cc;for(J.state=e,J.stream=a,J.marked=null,J.cc=i,e.lexical.hasOwnProperty("align")||(e.lexical.align=!0);;){var o=i.length?i.pop():B?k:h;if(o(r,n)){for(;i.length&&i[i.length-1].lex;)i.pop()();return J.marked?J.marked:"variable"==r&&u(e,n)?"variable-2":t}}}function f(){for(var e=arguments.length-1;e>=0;e--)J.cc.push(arguments[e])}function p(){return f.apply(null,arguments),!0}function d(e){function t(t){for(var r=t;r;r=r.next)if(r.name==e)return!0;return!1}var r=J.state;if(r.context){if(J.marked="def",t(r.localVars))return;r.localVars={name:e,next:r.localVars}}else{if(t(r.globalVars))return;r.globalVars={name:e,next:r.globalVars}}}function v(){J.state.context={prev:J.state.context,vars:J.state.localVars},J.state.localVars=K}function m(){J.state.localVars=J.state.context.vars,J.state.context=J.state.context.prev}function y(e,t){var r=function(){var r=J.state;r.lexical=new l(r.indented,J.stream.column(),e,null,r.lexical,t)};return r.lex=!0,r}function x(){var e=J.state;e.lexical.prev&&(e.lexical.type==")"&&(e.indented=e.lexical.indented),e.lexical=e.lexical.prev)}function b(e){return function(t){return t==e?p():";"==e?f():p(arguments.callee)}}function h(e){return"var"==e?p(y("vardef"),z,b(";"),x):"keyword a"==e?p(y("form"),k,h,x):"keyword b"==e?p(y("form"),h,x):"{"==e?p(y("}"),E,x):";"==e?p():"function"==e?p($):"for"==e?p(y("form"),b("("),y(")"),W,b(")"),x,h,x):"variable"==e?p(y("stat"),w):"switch"==e?p(y("form"),k,y("}","switch"),b("{"),E,x,x):"case"==e?p(k,b(":")):"default"==e?p(b(":")):"catch"==e?p(y("form"),v,b("("),A,b(")"),h,x,m):f(y("stat"),k,b(";"),x)}function k(e){return H.hasOwnProperty(e)?p(M):"function"==e?p($):"keyword c"==e?p(g):"("==e?p(y(")"),g,b(")"),x,M):"operator"==e?p(k):"["==e?p(y("]"),T(k,"]"),x,M):"{"==e?p(y("}"),T(j,"}"),x,M):p()}function g(e){return e.match(/[;\}\)\],]/)?f():f(k)}function M(e,t){if("operator"==e&&/\+\+|--/.test(t))return p(M);if("operator"==e&&"?"==t)return p(k,b(":"),k);if(";"!=e)return"("==e?p(y(")"),T(k,")"),x,M):"."==e?p(V,M):"["==e?p(y("]"),k,b("]"),x,M):void 0}function w(e){return":"==e?p(x,h):f(M,b(";"),x)}function V(e){return"variable"==e?(J.marked="property",p()):void 0}function j(e){return"variable"==e&&(J.marked="property"),H.hasOwnProperty(e)?p(b(":"),k):void 0}function T(e,t){function r(n){return","==n?p(e,r):n==t?p():p(b(t))}return function(n){return n==t?p():f(e,r)}}function E(e){return"}"==e?p():f(h,E)}function C(e){return":"==e?p(I):f()}function I(e){return"variable"==e?(J.marked="variable-3",p()):f()}function z(e,t){return"variable"==e?(d(t),D?p(C,P):p(P)):f()}function P(e,t){return"="==t?p(k,P):","==e?p(z):void 0}function W(e){return"var"==e?p(z,b(";"),N):";"==e?p(N):"variable"==e?p(O):p(N)}function O(e,t){return"in"==t?p(k):p(M,N)}function N(e,t){return";"==e?p(S):"in"==t?p(k):p(k,b(";"),S)}function S(e){")"!=e&&p(k)}function $(e,t){return"variable"==e?(d(t),p($)):"("==e?p(y(")"),v,T(A,")"),x,h,m):void 0}function A(e,t){return"variable"==e?(d(t),D?p(C):p()):void 0}var U,_,q=e.indentUnit,B=t.json,D=t.typescript,F=function(){function e(e){return{type:e,style:"keyword"}}var t=e("keyword a"),r=e("keyword b"),n=e("keyword c"),a=e("operator"),i={type:"atom",style:"atom"},o={"if":t,"while":t,"with":t,"else":r,"do":r,"try":r,"finally":r,"return":n,"break":n,"continue":n,"new":n,"delete":n,"throw":n,"var":e("var"),"const":e("var"),let:e("var"),"function":e("function"),"catch":e("catch"),"for":e("for"),"switch":e("switch"),"case":e("case"),"default":e("default"),"in":a,"typeof":a,"instanceof":a,"true":i,"false":i,"null":i,undefined:i,NaN:i,Infinity:i};if(D){var c={type:"variable",style:"variable-3"},l={"interface":e("interface"),"class":e("class"),"extends":e("extends"),constructor:e("constructor"),"public":e("public"),"private":e("private"),"protected":e("protected"),"static":e("static"),"super":e("super"),string:c,number:c,bool:c,any:c};for(var u in l)o[u]=l[u]}return o}(),G=/[+\-*&%=<>!?|]/,H={atom:!0,number:!0,variable:!0,string:!0,regexp:!0},J={state:null,column:null,marked:null,cc:null},K={name:"this",next:{name:"arguments"}};return x.lex=!0,{startState:function(e){return{tokenize:i,lastType:null,cc:[],lexical:new l((e||0)-q,0,"block",!1),localVars:t.localVars,globalVars:t.globalVars,context:t.localVars&&{vars:t.localVars},indented:0}},token:function(e,t){if(e.sol()&&(t.lexical.hasOwnProperty("align")||(t.lexical.align=!1),t.indented=e.indentation()),e.eatSpace())return null;var r=t.tokenize(e,t);return"comment"==U?r:(t.lastType=U,s(t,r,U,_,e))},indent:function(e,t){if(e.tokenize==c)return CodeMirror.Pass;if(e.tokenize!=i)return 0;var r=t&&t.charAt(0),n=e.lexical;n.type=="stat"&&"}"==r&&(n=n.prev);var a=n.type,o=r==a;return"vardef"==a?n.indented+(e.lastType=="operator"||e.lastType==","?4:0):"form"==a&&"{"==r?n.indented:"form"==a?n.indented+q:"stat"==a?n.indented+(e.lastType=="operator"||e.lastType==","?q:0):n.info!="switch"||o?n.align?n.column+(o?0:1):n.indented+(o?0:q):n.indented+(/^(?:case|default)\b/.test(t)?q:2*q)},electricChars:":{}",jsonMode:B}}),CodeMirror.defineMIME("text/javascript","javascript"),CodeMirror.defineMIME("text/ecmascript","javascript"),CodeMirror.defineMIME("application/javascript","javascript"),CodeMirror.defineMIME("application/ecmascript","javascript"),CodeMirror.defineMIME("application/json",{name:"javascript",json:!0}),CodeMirror.defineMIME("text/typescript",{name:"javascript",typescript:!0}),CodeMirror.defineMIME("application/typescript",{name:"javascript",typescript:!0});
//}}}